# DoctorHealthy1 API - Environment Configuration
# Copy this file to .env and fill in your values

# ========================================
# REQUIRED - Server will not start without these
# ========================================

# JWT Secret (minimum 32 characters) - REQUIRED
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long-change-this

# ========================================
# Server Configuration
# ========================================

# Port the server listens on (default: 8080, Coolify uses: 8081)
PORT=8081

# Host to bind to (default: 0.0.0.0 - all interfaces)
HOST=0.0.0.0

# Environment mode (development/production)
ENV=production

# ========================================
# Database Configuration
# ========================================

# SQLite database file path
DB_PATH=./data/app.db

# ========================================
# Logging Configuration
# ========================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# ========================================
# CORS Configuration
# ========================================

# Allowed origin for CORS (your frontend domain)
ALLOWED_ORIGIN=https://api.doctorhealthy1.com

# Comma-separated list of allowed origins (not used with new CORS config)
CORS_ORIGINS=https://doctorhealthy1.com,https://www.doctorhealthy1.com,http://localhost:3000

# ========================================
# API Key Configuration
# ========================================

# API key prefix
API_KEY_PREFIX=dh_

# API key length (default: 32)
API_KEY_LENGTH=32

# API key expiry duration (default: 8760h = 1 year)
API_KEY_EXPIRY=8760h

# ========================================
# Rate Limiting
# ========================================

# Requests per minute per IP
RATE_LIMIT=100

# Security rate limit requests
SECURITY_RATE_LIMIT_REQUESTS=100

# Security rate limit window (default: 1m)
SECURITY_RATE_LIMIT_WINDOW=1m

# ========================================
# Application Metadata
# ========================================

# Application version (optional)
APP_VERSION=1.0.0

# ========================================
# Production Deployment Notes (Coolify)
# ========================================

# For Coolify deployment, set these environment variables in dashboard:
# 
# CRITICAL:
# - JWT_SECRET=<your-32+char-secret>  (REQUIRED)
# - ENV=production
# - PORT=8081
# - LOG_LEVEL=warn
# - DB_PATH=/app/data/app.db
#
# IMPORTANT:
# - Configure persistent volume: /app/data (2GB minimum)
# - Enable SSL/HTTPS with automatic Let's Encrypt
# - Set domain: api.doctorhealthy1.com
# - Verify health check uses port 8081
#
# See DEPLOYMENT-ISSUES-ANALYSIS.md for complete setup guide
