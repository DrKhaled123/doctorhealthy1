#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Get the current branch name
BRANCH=$(git branch --show-current)

# Check if we're on main branch and push automatically
if [ "$BRANCH" = "main" ]; then
    echo "ğŸš€ Auto-pushing to origin/main..."
    git push origin main

    if [ $? -eq 0 ]; then
        echo "âœ… Successfully pushed to origin/main"
    else
        echo "âŒ Failed to push to origin/main"
        echo "ğŸ’¡ You may need to manually run: git push origin main"
    fi
else
    echo "ğŸ”„ On branch '$BRANCH' - skipping auto-push"
    echo "ğŸ’¡ To push this branch, run: git push origin $BRANCH"
fi
