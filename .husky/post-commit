#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Get the current branch name
BRANCH=$(git branch --show-current)

# Check if we're on main branch and push automatically
if [ "$BRANCH" = "main" ]; then
    echo "🚀 Auto-pushing to origin/main..."
    git push origin main

    if [ $? -eq 0 ]; then
        echo "✅ Successfully pushed to origin/main"
    else
        echo "❌ Failed to push to origin/main"
        echo "💡 You may need to manually run: git push origin main"
    fi
else
    echo "🔄 On branch '$BRANCH' - skipping auto-push"
    echo "💡 To push this branch, run: git push origin $BRANCH"
fi
